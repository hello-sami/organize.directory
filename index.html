<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Daily updates and resources for mutual aid networks and grassroots initiatives across different cities.">
    <meta name="theme-color" content="#ffffff">
    <title>Mutual Aid Network Directory</title>
    
    <!-- Resource Hints -->
    <link rel="preload" href="/styles.css" as="style">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    
    <!-- Critical Scripts -->
    <script src="/theme-init.js"></script>
    
    <!-- Deferred Scripts -->
    <script src="/mobile-menu.js" defer></script>
    <script src="/theme.js" type="module" defer></script>
    
    <!-- Analytics -->
    <script async src="/js/analytics.js"></script>
</head>
<body>
    <div class="layout">
        <aside id="sidebar" aria-label="Main navigation"></aside>

        <main class="main-content" role="main">
            <div class="content">
                <header class="page-header">
                    <!-- Search Bar -->
                    <div class="search-container">
                        <div class="search-input-wrapper">
                            <input 
                                type="text" 
                                id="searchInput" 
                                class="search-input" 
                                placeholder="Search mutual aid resources..."
                                aria-label="Search mutual aid resources"
                            >
                            <div id="searchResults" class="search-results" role="listbox"></div>
                        </div>
                    </div>

                    <h1>Want to get organized but don't know where to start?</h1>
                    <p>Community organizing brings people together to create meaningful 
                        change from the ground up. Through mutual support and collective action, 
                        we build stronger, more resilient neighborhoods where everyone's needs matter. 
                        When we organize together, we transform individual challenges into shared solutions.</p>
                </header>
                <hr>

                <section class="daily-log" aria-labelledby="log-heading">
                    <h2 id="log-heading">Updates and priority needs</h2>
                    <div id="posts-list" class="posts-list">
                        <!-- Posts will be dynamically loaded here -->
                    </div>
                </section>

                <footer class="site-footer">
                    <p>Awareness into action. Solidarity not charity.</p>
                </footer>
            </div>
        </main>
    </div>

    <!-- Core Scripts -->
    <script type="module">
        import { createSidebar } from '/components/sidebar.js';
        document.getElementById('sidebar').replaceWith(createSidebar('home'));
    </script>
    <script src="/script.js" type="module"></script>
    <script src="/js/posts.js" type="module"></script>

    <!-- Initialize Search -->
    <script type="module">
        import { Search } from './search.js';
        new Search();
    </script>
</body>
</html>
